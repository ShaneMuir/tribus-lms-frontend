<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/favicon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tribus LMS</title>

    <script type="module">
          import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed@1.3.14/dist/web.js"

          function getDate() {
              const options = {
                  timeZone: 'Europe/London',
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric',
                  weekday: 'long',
              };
              return new Date().toLocaleString('en-GB', options);
          }

          Chatbot.init({
              chatflowid: "f7a0f308-19c8-4d6b-b564-980a9c822c5c",
              apiHost: "http://localhost:3000",
              chatflowConfig: {
                  vars: {
                      "currentDate": getDate(),
                  },
              },
              theme: {
                  button: {
                      backgroundColor: 'var(--tribus-blue, #1E00FF)',
                      right: 20,
                      bottom: 20,
                      size: 50,
                      dragAndDrop: false,
                      iconColor: '#fafafa',
                      autoWindowOpen: {
                          autoOpen: false,
                          openDelay: 2,
                          autoOpenOnMobile: false,
                      },
                  },
                  tooltip: {
                      showTooltip: true,
                      tooltipMessage: 'Hey! Need help?',
                      tooltipBackgroundColor: '#1E00FF',
                      tooltipTextColor: '#fafafa',
                      tooltipFontSize: 15,
                  },
                  chatWindow: {
                      showTitle: true,
                      title: 'Tribus Assistant',
                      titleAvatarSrc: '/public/tribus-icon.png',
                      welcomeMessage: 'Yo! Ask me about your coding challenges or LMS features, and I\'ll guide you towards solutions.',
                      errorMessage: 'Oops! Look\'s like I\'m knackered, try again later.',
                      backgroundColor: '#293040',
                      backgroundImage: '',
                      fontSize: 16,
                      starterPromptFontSize: 14,
                      starterPrompts: ['What is Tribus LMS?', 'Can you help me solve this challenge?'],
                      botMessage: {
                          backgroundColor: '#fafafa',
                          textColor: '#000000',
                          showAvatar: true,
                          avatarSrc: '/public/tribus-icon.png',
                      },
                      userMessage: {
                          backgroundColor: 'var(--tribus-blue, #1E00FF)',
                          textColor: '#fafafa',
                      },
                      textInput: {
                          placeholder: 'Type your question here...',
                          backgroundColor: '#444',
                          textColor: '#fafafa',
                          sendButtonColor: 'var(--tribus-blue, #1E00FF)',
                          autoFocus: true,
                          sendMessageSound: false,
                          receiveMessageSound: false,
                      },
                      feedback: {
                          color: '#fafafa',
                      },
                      footer: {
                          textColor: '#fafafa',
                          text: 'Powered by',
                          company: 'Tribus Digital',
                          companyLink: 'https://tribusdigital.com',
                      },
                  },
              },
          });
      </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
